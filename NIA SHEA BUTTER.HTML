<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIA SHEA BUTTER - Natural Skincare & Haircare</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@0.292.0/dist/umd/lucide.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .hero-bg {
            background-image: url('https://placehold.co/1200x600/FFF9E6/4A3B31?text=Lush+Shea+Butter+Texture');
            background-size: cover;
            background-position: center;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #E53E3E; /* Red-600 */
            color: white;
            padding: 2px 8px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
        }
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4A5568; /* Gray-700 */
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            font-size: 0.875rem;
        }
        .toast.show {
            opacity: 1;
        }

        /* Custom scrollbar for webkit browsers */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #D1C0A8; /* A soft brown color */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #B8A088; /* Darker shade on hover */
        }
    </style>
</head>
<body class="bg-amber-50 text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <a href="#home" class="flex items-center space-x-2 router-link">
                    <svg width="40" height="40" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="48" fill="#D1C0A8"/>
                        <path d="M50 25C38 25 30 35 30 45C30 55 40 75 50 75C60 75 70 55 70 45C70 35 62 25 50 25Z" fill="#FFF9E6"/>
                        <path d="M50 30C42 30 35 38 35 46C35 54 43 70 50 70C57 70 65 54 65 46C65 38 58 30 50 30Z" fill="#A0522D"/>
                        <text x="50" y="88" font-family="Inter, sans-serif" font-size="10" fill="#4A3B31" text-anchor="middle" font-weight="bold">NIA</text>
                    </svg>
                    <span class="text-2xl font-bold text-amber-700">NIA SHEA BUTTER</span>
                </a>
                <nav class="hidden md:flex space-x-6">
                    <a href="#home" class="text-gray-600 hover:text-amber-600 transition duration-150 router-link">Home</a>
                    <a href="#products" class="text-gray-600 hover:text-amber-600 transition duration-150 router-link">Products</a>
                    <a href="#about" class="text-gray-600 hover:text-amber-600 transition duration-150 router-link">About Us</a>
                    <a href="#contact" class="text-gray-600 hover:text-amber-600 transition duration-150 router-link">Contact</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <a href="#cart" class="relative text-gray-600 hover:text-amber-600 transition duration-150 router-link">
                        <i data-lucide="shopping-cart"></i>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </a>
                    <button id="mobile-menu-button" class="md:hidden text-gray-600 hover:text-amber-600">
                        <i data-lucide="menu"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="md:hidden hidden bg-white shadow-lg">
            <a href="#home" class="block py-2 px-4 text-sm text-gray-700 hover:bg-amber-50 router-link">Home</a>
            <a href="#products" class="block py-2 px-4 text-sm text-gray-700 hover:bg-amber-50 router-link">Products</a>
            <a href="#about" class="block py-2 px-4 text-sm text-gray-700 hover:bg-amber-50 router-link">About Us</a>
            <a href="#contact" class="block py-2 px-4 text-sm text-gray-700 hover:bg-amber-50 router-link">Contact</a>
        </div>
    </header>

    <main id="main-content" class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        </main>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-amber-400 mb-4">NIA SHEA BUTTER</h3>
                    <p class="text-gray-400 text-sm">Nourishing your skin and hair with the purest shea butter, ethically sourced and lovingly crafted in Kenya.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-amber-400 mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#about" class="text-gray-400 hover:text-amber-400 router-link">About Us</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-amber-400 router-link">Contact Us</a></li>
                        <li><a href="#faq" class="text-gray-400 hover:text-amber-400 router-link">FAQ</a></li>
                        <li><a href="#privacy" class="text-gray-400 hover:text-amber-400 router-link">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-amber-400 mb-4">Connect With Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-amber-400"><i data-lucide="facebook"></i></a>
                        <a href="#" class="text-gray-400 hover:text-amber-400"><i data-lucide="instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-amber-400"><i data-lucide="twitter"></i></a>
                    </div>
                    <p class="mt-4 text-sm text-gray-400">Subscribe to our newsletter for updates and offers:</p>
                    <form class="mt-2 flex">
                        <input type="email" placeholder="Your Email" class="w-full px-3 py-2 rounded-l-md text-gray-800 focus:outline-none focus:ring-2 focus:ring-amber-400">
                        <button type="submit" class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-r-md">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-gray-700 text-center text-gray-500 text-sm">
                &copy; <span id="currentYear"></span> NIA SHEA BUTTER. All Rights Reserved. Made with <i data-lucide="heart" class="inline-block text-red-500 h-4 w-4"></i> in Kenya.
            </div>
        </div>
    </footer>

    <div id="toast-notification" class="toast">
        Item added to cart!
    </div>

    <div id="infoModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTitle" class="text-xl font-semibold">Modal Title</h3>
                <button id="closeModal" class="text-gray-600 hover:text-red-600">
                    <i data-lucide="x-circle"></i>
                </button>
            </div>
            <p id="modalMessage">This is a modal message.</p>
            <div id="modalActions" class="mt-4 text-right">
                 </div>
        </div>
    </div>


    <script>

        // --- Product Data (Simulated Database) ---
        const products = [
            {
                id: 1,
                name: "Pure Unrefined Shea Butter",
                description: "Experience the raw, unadulterated goodness of 100% pure, Grade A unrefined shea butter. Sourced ethically, this butter is rich in vitamins A, E, and F, perfect for deep moisturization, soothing dry skin, eczema, and reducing blemishes. Ideal for DIY skincare.",
                price_kes: 450,
                image_url: "https://placehold.co/400x400/D1C0A8/4A3B31?text=Pure+Unrefined+Shea+Butter",
                category: "Raw Shea Butter",
                sizes: ["100g", "250g", "500g"],
                stock: 150,
                rating: 4.8,
                reviews: 75,
                ingredients: ["100% Butyrospermum Parkii (Shea Butter)"]
            },
            {
                id: 2,
                name: "Whipped Body Butter - Vanilla & Lavender",
                description: "Indulge your skin with our luxurious whipped body butter. A fluffy, light blend of pure shea butter, coconut oil, and jojoba oil, infused with calming lavender and warm vanilla essential oils. Deeply hydrates without a greasy feel, leaving skin soft and fragrant.",
                price_kes: 1200,
                image_url: "https://placehold.co/400x400/E6DACC/4A3B31?text=Whipped+Vanilla+Lavender+Butter",
                category: "Body Butters",
                sizes: ["150g", "250g"],
                stock: 80,
                rating: 4.9,
                reviews: 120,
                ingredients: ["Butyrospermum Parkii (Shea Butter)", "Cocos Nucifera (Coconut) Oil", "Simmondsia Chinensis (Jojoba) Seed Oil", "Lavandula Angustifolia (Lavender) Oil", "Vanilla Planifolia Fruit Extract", "Tocopherol (Vitamin E)"]
            },
            {
                id: 3,
                name: "Shea & Argan Hair Food",
                description: "Nourish and strengthen your hair with our potent Shea & Argan Hair Food. This rich pomade combines the moisturizing power of shea butter with the repairing properties of argan oil, plus castor oil to promote growth. Perfect for dry, brittle hair, braids, and natural styles.",
                price_kes: 850,
                image_url: "https://placehold.co/400x400/C2B2A0/4A3B31?text=Shea+Argan+Hair+Food",
                category: "Hair Care",
                sizes: ["100g", "200g"],
                stock: 100,
                rating: 4.7,
                reviews: 90,
                ingredients: ["Butyrospermum Parkii (Shea Butter)", "Argania Spinosa (Argan) Kernel Oil", "Ricinus Communis (Castor) Seed Oil", "Cera Alba (Beeswax)", "Tocopherol (Vitamin E)"]
            },
            {
                id: 4,
                name: "Gentle Shea Face Cream - Aloe & Rosehip",
                description: "Our daily moisturizing face cream combines the gentle touch of shea butter with soothing aloe vera and rejuvenating rosehip oil. Hydrates, calms, and helps improve skin tone and texture. Suitable for normal to dry skin.",
                price_kes: 1300,
                image_url: "https://placehold.co/400x400/F0EAE0/4A3B31?text=Shea+Face+Cream+Aloe+Rosehip",
                category: "Face Care",
                sizes: ["50g"],
                stock: 60,
                rating: 4.8,
                reviews: 55,
                ingredients: ["Aqua (Water)", "Butyrospermum Parkii (Shea Butter)", "Aloe Barbadensis Leaf Juice", "Rosa Canina (Rosehip) Seed Oil", "Glycerin", "Cetearyl Alcohol", "Glyceryl Stearate", "Tocopherol (Vitamin E)"]
            },
            {
                id: 5,
                name: "Exfoliating Sugar Scrub - Coffee & Brown Sugar",
                description: "Awaken your skin with our invigorating Coffee & Brown Sugar Scrub. Fine brown sugar and ground coffee beans gently exfoliate dead skin cells, while shea butter and sweet almond oil moisturize and leave your skin feeling smooth, soft, and revitalized.",
                price_kes: 1100,
                image_url: "https://placehold.co/400x400/A08C79/4A3B31?text=Coffee+Sugar+Scrub",
                category: "Scrubs",
                sizes: ["200g"],
                stock: 70,
                rating: 4.9,
                reviews: 85,
                ingredients: ["Sucrose (Brown Sugar)", "Coffea Arabica (Coffee) Seed Powder", "Butyrospermum Parkii (Shea Butter)", "Prunus Amygdalus Dulcis (Sweet Almond) Oil", "Tocopherol (Vitamin E)"]
            },
            {
                id: 6,
                name: "Shea Butter Lip Balm - Peppermint",
                description: "Protect and hydrate your lips with our all-natural shea butter lip balm. Infused with cooling peppermint essential oil for a refreshing tingle. Keeps lips soft, smooth, and moisturized.",
                price_kes: 350,
                image_url: "https://placehold.co/400x400/E0F0E0/4A3B31?text=Shea+Lip+Balm+Peppermint",
                category: "Lip Care",
                sizes: ["15g"],
                stock: 200,
                rating: 4.7,
                reviews: 150,
                ingredients: ["Butyrospermum Parkii (Shea Butter)", "Cera Alba (Beeswax)", "Cocos Nucifera (Coconut) Oil", "Mentha Piperita (Peppermint) Oil"]
            }
        ];

        // --- Cart Functionality ---
        let cart = JSON.parse(localStorage.getItem('niaSheaCart')) || [];

        function addToCart(productId, quantity = 1) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            // NOTE: For simplicity, this code ignores the selected size on the detail page.
            // A more complex cart implementation would track product ID AND size/variant.
            const cartItem = cart.find(item => item.id === productId); 
            
            if (cartItem) {
                cartItem.quantity += quantity;
            } else {
                cart.push({ ...product, quantity });
            }
            saveCart();
            updateCartCount();
            showToast("Item added to cart!");
        }

        function updateCartQuantity(productId, quantity) {
            const cartItem = cart.find(item => item.id === productId);
            if (cartItem) {
                cartItem.quantity = Math.max(0, quantity); // Prevent negative quantity
                if (cartItem.quantity === 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                }
            }
            if (window.location.hash === '#cart') renderCartPage(); // Re-render cart page if currently on it
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartCount();
            if (window.location.hash === '#cart') renderCartPage(); // Re-render cart page if currently on it
        }

        function saveCart() {
            localStorage.setItem('niaSheaCart', JSON.stringify(cart));
        }

        function updateCartCount() {
            const cartCountElement = document.getElementById('cart-count');
            if (cartCountElement) {
                cartCountElement.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
            }
        }

        function getCartTotal() {
            return cart.reduce((sum, item) => sum + (item.price_kes * item.quantity), 0);
        }

        // --- Toast Notification ---
        function showToast(message) {
            const toastElement = document.getElementById('toast-notification');
            if (toastElement) {
                toastElement.textContent = message;
                toastElement.classList.add('show');
                setTimeout(() => {
                    toastElement.classList.remove('show');
                }, 3000);
            }
        }
        
        // --- Modal Functionality ---
        const infoModal = document.getElementById('infoModal');
        const closeModalButton = document.getElementById('closeModal');
        const modalTitleElem = document.getElementById('modalTitle');
        const modalMessageElem = document.getElementById('modalMessage');
        const modalActionsElem = document.getElementById('modalActions');

        function showModal(title, message, actionsHtml = '') {
            if (modalTitleElem) modalTitleElem.textContent = title;
            if (modalMessageElem) modalMessageElem.innerHTML = message; // Use innerHTML for potential HTML content
            if (modalActionsElem) modalActionsElem.innerHTML = actionsHtml;
            if (infoModal) infoModal.style.display = 'flex';
        }

        if (closeModalButton) {
            closeModalButton.onclick = () => {
                if (infoModal) infoModal.style.display = 'none';
            };
        }
        window.onclick = (event) => {
            if (event.target == infoModal) {
                infoModal.style.display = "none";
            }
        }


        // --- Page Rendering Functions ---
        const mainContent = document.getElementById('main-content');

        function renderHomePage() {
            mainContent.innerHTML = `
                <section class="hero-bg text-white py-20 md:py-32 rounded-lg shadow-xl">
                    <div class="container mx-auto text-center bg-black bg-opacity-50 p-8 rounded-md">
                        <h1 class="text-4xl md:text-6xl font-bold mb-6">Discover Nature's Purest Care</h1>
                        <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto">Experience the nourishing magic of NIA SHEA BUTTER, ethically sourced and crafted for your radiant skin and hair.</p>
                        <a href="#products" class="bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 router-link">Shop Our Collection</a>
                    </div>
                </section>

                <section class="py-16">
                    <h2 class="text-3xl font-bold text-center text-amber-700 mb-12">Our Featured Products</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        ${products.slice(0, 3).map(product => `
                            <div class="bg-white rounded-lg shadow-lg overflow-hidden product-card relative">
                                    <div class="badge">${product.category}</div>
                                <a href="#product/${product.id}" class="router-link">
                                    <img src="${product.image_url}" alt="${product.name}" class="w-full h-64 object-cover">
                                </a>
                                <div class="p-6">
                                    <h3 class="text-xl font-semibold mb-2 text-amber-800">${product.name}</h3>
                                    <p class="text-gray-600 text-sm mb-3">${product.description.substring(0,100)}...</p>
                                    <p class="text-lg font-bold text-amber-600 mb-4">KES ${product.price_kes.toLocaleString()}</p>
                                    <div class="flex items-center justify-between">
                                        <a href="#product/${product.id}" class="text-amber-600 hover:text-amber-700 font-medium router-link">View Details</a>
                                        <button onclick="addToCart(${product.id})" class="bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-lg transition duration-300 text-sm">
                                            <i data-lucide="shopping-cart" class="inline-block h-4 w-4 mr-1"></i> Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </section>

                <section class="py-16 bg-white rounded-lg shadow-xl">
                    <div class="container mx-auto text-center">
                        <h2 class="text-3xl font-bold text-amber-700 mb-6">The NIA SHEA BUTTER Promise</h2>
                        <p class="text-gray-700 max-w-3xl mx-auto mb-8 text-lg">
                            At NIA SHEA BUTTER, we believe in the power of nature. Our shea butter is 100% pure, unrefined, and ethically sourced from women's cooperatives in East Africa. We are committed to providing you with high-quality, natural products that nourish your body and uplift communities.
                        </p>
                        <a href="#about" class="bg-amber-700 hover:bg-amber-800 text-white font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 router-link">Learn More About Us</a>
                    </div>
                </section>
                
                <section class="py-16">
                    <h2 class="text-3xl font-bold text-center text-amber-700 mb-12">What Our Customers Say</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <p class="text-gray-600 mb-4">"The Pure Unrefined Shea Butter is a lifesaver for my dry skin! So rich and moisturizing. NIA is my go-to!"</p>
                            <p class="font-semibold text-amber-700">- Aisha K.</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <p class="text-gray-600 mb-4">"I love the Whipped Body Butter! Smells amazing and leaves my skin feeling so soft. Highly recommend."</p>
                            <p class="font-semibold text-amber-700">- David M.</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <p class="text-gray-600 mb-4">"The Shea & Argan Hair Food has done wonders for my natural hair. It's healthier and growing!"</p>
                            <p class="font-semibold text-amber-700">- Fatuma S.</p>
                        </div>
                    </div>
                </section>
            `;
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function renderProductsPage() {
            mainContent.innerHTML = `
                <section class="py-8">
                    <h1 class="text-4xl font-bold text-center text-amber-700 mb-12">Our Products</h1>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                        ${products.map(product => `
                            <div class="bg-white rounded-lg shadow-lg overflow-hidden product-card relative">
                                    <div class="badge">${product.category}</div>
                                <a href="#product/${product.id}" class="router-link block">
                                    <img src="${product.image_url}" alt="${product.name}" class="w-full h-64 object-cover">
                                </a>
                                <div class="p-6">
                                    <h3 class="text-xl font-semibold mb-2 text-amber-800">${product.name}</h3>
                                    <p class="text-gray-600 text-sm mb-1">Category: ${product.category}</p>
                                    <div class="flex items-center mb-2">
                                        <span class="text-yellow-500">${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}</span>
                                        <span class="ml-2 text-sm text-gray-500">(${product.reviews} reviews)</span>
                                    </div>
                                    <p class="text-lg font-bold text-amber-600 mb-4">KES ${product.price_kes.toLocaleString()}</p>
                                    <div class="flex items-center justify-between">
                                        <a href="#product/${product.id}" class="text-amber-600 hover:text-amber-700 font-medium router-link text-sm">View Details</a>
                                        <button onclick="addToCart(${product.id})" class="bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-lg transition duration-300 text-sm">
                                            <i data-lucide="shopping-cart" class="inline-block h-4 w-4 mr-1"></i> Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </section>
            `;
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function renderProductDetailPage(productId) {
            const product = products.find(p => p.id === parseInt(productId));
            if (!product) {
                mainContent.innerHTML = `<p class="text-center text-red-500 text-xl py-10">Product not found.</p>`;
                return;
            }

            mainContent.innerHTML = `
                <section class="py-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                        <div class="bg-white p-4 rounded-lg shadow-lg">
                            <img src="${product.image_url}" alt="${product.name}" class="w-full h-auto max-h-[500px] object-contain rounded-lg">
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <h1 class="text-3xl md:text-4xl font-bold text-amber-700 mb-4">${product.name}</h1>
                            <p class="text-gray-500 text-sm mb-2">Category: ${product.category}</p>
                            <div class="flex items-center mb-4">
                                <span class="text-yellow-500 text-xl">${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}</span>
                                <span class="ml-2 text-gray-600">(${product.reviews} reviews)</span>
                            </div>
                            <p class="text-2xl font-bold text-amber-600 mb-6">KES ${product.price_kes.toLocaleString()}</p>
                            
                            <div class="mb-6">
                                <label for="size-select" class="block text-sm font-medium text-gray-700 mb-1">Select Size:</label>
                                <select id="size-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                                    ${product.sizes.map(size => `<option value="${size}">${size}</option>`).join('')}
                                </select>
                            </div>

                            <div class="mb-6">
                                <label for="quantity-select" class="block text-sm font-medium text-gray-700 mb-1">Quantity:</label>
                                <input type="number" id="quantity-select" value="1" min="1" max="${product.stock}" class="w-24 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                                <span class="ml-2 text-sm text-gray-500">${product.stock} in stock</span>
                            </div>
                            
                            <button onclick="handleAddToCartFromDetail(${product.id})" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-6 rounded-lg text-lg transition duration-300 mb-4">
                                <i data-lucide="shopping-cart" class="inline-block h-5 w-5 mr-2"></i> Add to Cart
                            </button>
                            
                            <h3 class="text-xl font-semibold text-amber-800 mt-8 mb-2">Product Description</h3>
                            <p class="text-gray-700 leading-relaxed mb-4">${product.description}</p>
                            
                            <h3 class="text-xl font-semibold text-amber-800 mt-6 mb-2">Ingredients</h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-1 text-sm">
                                ${product.ingredients.map(ing => `<li>${ing}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    
                    <div class="mt-12 bg-white p-6 rounded-lg shadow-lg">
                        <h2 class="text-2xl font-bold text-amber-700 mb-6">Customer Reviews</h2>
                        <div class="space-y-4">
                            <div class="border-b pb-4">
                                <div class="flex items-center mb-1">
                                    <span class="font-semibold">Amina J.</span>
                                    <span class="ml-auto text-yellow-500">${'★'.repeat(5)}</span>
                                </div>
                                <p class="text-gray-600 text-sm">Absolutely love this product! It's made such a difference to my skin. Highly recommend NIA Shea Butter.</p>
                            </div>
                            <div class="border-b pb-4">
                                <div class="flex items-center mb-1">
                                    <span class="font-semibold">Brian O.</span>
                                    <span class="ml-auto text-yellow-500">${'★'.repeat(4)}☆</span>
                                </div>
                                <p class="text-gray-600 text-sm">Great quality shea butter. The vanilla lavender scent is divine. My skin feels so soft.</p>
                            </div>
                            <a href="#" class="text-amber-600 hover:text-amber-700 font-medium">View all reviews</a>
                        </div>
                    </div>
                </section>
            `;
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }
        
        function handleAddToCartFromDetail(productId) {
            const quantityInput = document.getElementById('quantity-select');
            const quantity = parseInt(quantityInput.value);
            if (quantity > 0) {
                addToCart(productId, quantity);
            }
        }

        function renderCartPage() {
            if (cart.length === 0) {
                mainContent.innerHTML = `
                    <section class="py-16 text-center">
                        <h1 class="text-4xl font-bold text-amber-700 mb-6">Your Shopping Cart</h1>
                        <i data-lucide="shopping-cart" class="mx-auto h-24 w-24 text-gray-400 mb-6"></i>
                        <p class="text-xl text-gray-600 mb-8">Your cart is currently empty.</p>
                        <a href="#products" class="bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 router-link">Continue Shopping</a>
                    </section>
                `;
            } else {
                // --- Cart Page Content ---
                mainContent.innerHTML = `
                    <section class="py-8">
                        <h1 class="text-4xl font-bold text-amber-700 mb-8 text-center">Your Shopping Cart</h1>
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div class="lg:col-span-2 space-y-6">
                                ${cart.map(item => `
                                    <div class="bg-white p-4 rounded-lg shadow-lg flex items-center space-x-4">
                                        <img src="${item.image_url}" alt="${item.name}" class="w-20 h-20 object-cover rounded-md">
                                        <div class="flex-grow">
                                            <h3 class="text-lg font-semibold text-amber-800">${item.name}</h3>
                                            <p class="text-gray-600 text-sm">KES ${item.price_kes.toLocaleString()}</p>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <button onclick="updateCartQuantity(${item.id}, ${item.quantity - 1})" class="text-gray-600 hover:text-amber-600 p-1 border rounded">-</button>
                                            <input type="number" min="1" value="${item.quantity}" onchange="updateCartQuantity(${item.id}, parseInt(this.value))" class="w-12 text-center border rounded">
                                            <button onclick="updateCartQuantity(${item.id}, ${item.quantity + 1})" class="text-gray-600 hover:text-amber-600 p-1 border rounded">+</button>
                                        </div>
                                        <p class="font-bold text-amber-600 w-24 text-right">KES ${(item.price_kes * item.quantity).toLocaleString()}</p>
                                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700 p-1 rounded">
                                            <i data-lucide="trash-2" class="h-5 w-5"></i>
                                        </button>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="bg-white p-6 rounded-lg shadow-lg h-fit">
                                <h2 class="text-2xl font-bold text-amber-700 mb-4">Order Summary</h2>
                                <div class="space-y-3 border-b pb-4 mb-4">
                                    <div class="flex justify-between">
                                        <span>Subtotal:</span>
                                        <span class="font-medium">KES ${getCartTotal().toLocaleString()}</span>
                                    </div>
                                    <div class="flex justify-between text-sm text-gray-500">
                                        <span>Shipping:</span>
                                        <span>Calculated at checkout</span>
                                    </div>
                                </div>
                                <div class="flex justify-between text-xl font-bold text-amber-700 mb-6">
                                    <span>Estimated Total:</span>
                                    <span>KES ${getCartTotal().toLocaleString()}</span>
                                </div>
                                <button onclick="showCheckoutModal()" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-lg transition duration-300">Proceed to Checkout</button>
                            </div>
                        </div>
                    </section>
                `;
            }
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function renderAboutPage() {
            mainContent.innerHTML = `
                <section class="py-16">
                    <h1 class="text-4xl font-bold text-center text-amber-700 mb-10">Our Story</h1>
                    <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg space-y-6 text-lg text-gray-700">
                        <p>NIA SHEA BUTTER was born from a passion for **pure, natural skincare** and a deep respect for the source. We believe that the best ingredients come directly from the earth.</p>
                        <p>Our shea butter is **ethically and sustainably sourced** from women's cooperatives in East Africa, ensuring fair wages and economic empowerment. This commitment to quality and community is at the heart of everything we do. We bring you unrefined, organic shea butter, rich in vitamins and nutrients, to naturally heal and nourish your skin and hair.</p>
                        <h2 class="text-2xl font-semibold text-amber-800 mt-8 mb-3">Our Mission</h2>
                        <p>To provide the highest quality shea butter products that are effective, environmentally conscious, and support the livelihoods of the women who cultivate this 'gold standard' ingredient.</p>
                    </div>
                </section>
            `;
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        function renderContactPage() {
            mainContent.innerHTML = `
                <section class="py-16">
                    <h1 class="text-4xl font-bold text-center text-amber-700 mb-10">Get In Touch</h1>
                    <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h2 class="text-2xl font-semibold text-amber-800 mb-4">Send Us a Message</h2>
                            <form id="contact-form" class="space-y-4">
                                <div>
                                    <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
                                    <input type="text" id="name" name="name" class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500">
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                                    <input type="email" id="email" name="email" required class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500">
                                </div>
                                <div>
                                    <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                                    <textarea id="message" name="message" rows="4" required class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500"></textarea>
                                </div>
                                <button type="submit" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-lg transition duration-300">Submit Message</button>
                            </form>
                        </div>
                        <div class="space-y-6">
                            <h2 class="text-2xl font-semibold text-amber-800 mb-4">Contact Details</h2>
                            <p class="flex items-center space-x-3 text-gray-700"><i data-lucide="mail" class="h-5 w-5 text-amber-600"></i><span>Email: niasheabutter@gmail.com</span></p>
                            <p class="flex items-center space-x-3 text-gray-700"><i data-lucide="phone" class="h-5 w-5 text-amber-600"></i><span>Phone: +254 796 375 121</span></p>
                            <p class="flex items-center space-x-3 text-gray-700"><i data-lucide="map-pin" class="h-5 w-5 text-amber-600"></i><span>Address: Nairobi, Kenya</span></p>
                        </div>
                    </div>
                </section>
            `;
            if (typeof lucide !== 'undefined') lucide.createIcons();
            // Simple form submission handler
            document.getElementById('contact-form')?.addEventListener('submit', function(e) {
                e.preventDefault();
                showToast("Thank you! Your message has been sent.");
                this.reset();
            });
        }

        function renderPrivacyPage() {
            // Placeholder content for Privacy Policy
            mainContent.innerHTML = `
                <section class="py-16">
                    <h1 class="text-4xl font-bold text-center text-amber-700 mb-10">Privacy Policy</h1>
                    <div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg space-y-4 text-gray-700">
                        <p class="text-gray-700 mb-4 leading-relaxed"><strong>Last Updated: November 12, 2025</strong></p>
                        <p>NIA SHEA BUTTER ("us", "we", or "our") operates this website (the "Service"). This page informs you of our policies regarding the collection, use, and disclosure of personal data.</p>
                        <h2 class="text-2xl font-semibold text-amber-800 mt-6 mb-3">Information Collection and Use</h2>
                        <p>We collect several different types of information for various purposes to provide and improve our Service to you. This may include names, email addresses, and shipping details when you place an order.</p>
                        <h2 class="text-2xl font-semibold text-amber-800 mt-6 mb-3">Cookies</h2>
                        <p>We use cookies to track the activity on our Service and hold certain information. You can instruct your browser to refuse all cookies.</p>
                        <h2 class="text-2xl font-semibold text-amber-800 mt-6 mb-3">Data Security</h2>
                        <p>The security of your data is important to us. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security.</p>
                    </div>
                </section>
            `;
            if (typeof lucide !== 'undefined') lucide.createIcons();
        }

        // Simple placeholder for checkout
        function showCheckoutModal() {
            showModal(
                "Proceed to Checkout",
                `Your total order value is **KES ${getCartTotal().toLocaleString()}**. <br><br> In a real application, you would be redirected to a payment processor (e.g., M-Pesa, Stripe).`,
                `<button onclick="document.getElementById('infoModal').style.display='none';" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg">Close</button>`
            );
        }

        // --- Router Logic ---
        function router() {
            const hash = window.location.hash || '#home';
            const route = hash.split('/')[0];
            const productId = hash.split('/')[1];

            // Hide mobile menu on route change
            document.getElementById('mobile-menu').classList.add('hidden');

            switch (route) {
                case '#home':
                    renderHomePage();
                    break;
                case '#products':
                    renderProductsPage();
                    break;
                case '#product':
                    renderProductDetailPage(productId);
                    break;
                case '#cart':
                    renderCartPage();
                    break;
                case '#about':
                    renderAboutPage();
                    break;
                case '#contact':
                    renderContactPage();
                    break;
                case '#privacy':
                    renderPrivacyPage();
                    break;
                default:
                    renderHomePage(); // Fallback
                    break;
            }
        }

        // --- Event Listeners and Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            // 1. Initial Icon Load (for header/footer)
            if (typeof lucide !== 'undefined') lucide.createIcons();

            // 2. Dynamic Year in Footer
            const currentYearElement = document.getElementById('currentYear');
            if (currentYearElement) {
                currentYearElement.textContent = new Date().getFullYear();
            }

            // 3. Mobile Menu Toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton?.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            // 4. Router Initialization
            window.addEventListener('hashchange', router);
            document.body.addEventListener('click', (e) => {
                // Handle smooth scrolling and routing for all .router-link elements
                if (e.target.closest('.router-link')) {
                    const href = e.target.closest('.router-link').getAttribute('href');
                    if (href && href.startsWith('#')) {
                        e.preventDefault();
                        window.location.hash = href;
                    }
                }
            });
            router();
            updateCartCount();
        });
    </script>
</body>
</html>
```
